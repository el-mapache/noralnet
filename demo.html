<html>
    <head>
        <script src="./neuron.js"></script>
        <script src="./connection.js"></script>
        <script src="./layers/hidden.js"></script>
        <script src="./layers/input.js"></script>
        <script src="./layers/output.js"></script>
        <script src="./network.js"></script>
        <script src="./view.js"></script>
        <script src="./trainer.js"></script>
        <script>
            // Training data
            const TRAINING_INPUTS = [
                [ 1, 1, 1, 0 ],
                [ 1, 1, 0, 0 ],
                [ 0, 1, 1, 0 ],
                [ 1, 0, 1, 0 ],
                [ 1, 0, 0, 0 ],
                [ 0, 1, 0, 0 ],
                [ 0, 0, 1, 0 ],
                [ 1, 1, 1, 1 ],
                [ 1, 1, 0, 1 ],
                [ 0, 1, 1, 1 ],
                [ 1, 0, 1, 1 ],
                [ 1, 0, 0, 1 ],
                [ 0, 1, 0, 1 ],
                [ 0, 0, 1, 1 ]
            ];
            const TRAINING_OUTPUTS = [
                [ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
                [ 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
                [ 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
                [ 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
                [ 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
                [ 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0 ],
                [ 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 ],
                [ 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 ],
                [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 ],
                [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0 ],
                [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ],
                [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0 ],
                [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0 ],
                [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 ]
            ];

            document.addEventListener("DOMContentLoaded", function(event) {
                // Helper class to tie everything together
                const trainer = new Trainer(TRAINING_INPUTS[0].length, TRAINING_OUTPUTS[0].length);

                // Trainer set up the input and output layers, so add a hidden layer
                trainer.addLayer(6);
                trainer.createNetwork();

                let featureIndex = 0;
                let predictionIndex = 0;

                window.trainer = trainer;

                setInterval(() => {
                    if (++featureIndex > TRAINING_INPUTS.length - 1) featureIndex = 0;
                    trainer.run(TRAINING_INPUTS[featureIndex], TRAINING_OUTPUTS[featureIndex]);
                }, 5);
                
            });
        </script>
    </head>
    <body id="body">
    </body>
</html>
